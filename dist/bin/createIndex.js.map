{"version":3,"sources":["../../src/bin/createIndex.js"],"names":["argv","yargs","pkgConf","demand","options","recursive","alias","default","description","type","ignoreUnsafe","ignoreDirectories","update","banner","extensions","example","_","updateIndex"],"mappings":"AAAA;AACA;;;AAEA;;AACA;;;;AAIA,MAAMA,IAAI,GAAGC,eACVC,OADU,CACF,SADE,EAEVC,MAFU,CAEH,CAFG,EAGVC,OAHU,CAGF;AACPC,EAAAA,SAAS,EAAE;AACTC,IAAAA,KAAK,EAAE,GADE;AAETC,IAAAA,OAAO,EAAE,KAFA;AAGTC,IAAAA,WAAW,EAAE,8EAHJ;AAITC,IAAAA,IAAI,EAAE;AAJG;AADJ,CAHE,EAWVL,OAXU,CAWF;AACPM,EAAAA,YAAY,EAAE;AACZJ,IAAAA,KAAK,EAAE,GADK;AAEZC,IAAAA,OAAO,EAAE,KAFG;AAGZC,IAAAA,WAAW,EAAE,qDAHD;AAIZC,IAAAA,IAAI,EAAE;AAJM;AADP,CAXE,EAmBVL,OAnBU,CAmBF;AACPO,EAAAA,iBAAiB,EAAE;AACjBL,IAAAA,KAAK,EAAE,GADU;AAEjBC,IAAAA,OAAO,EAAE,KAFQ;AAGjBC,IAAAA,WAAW,EAAE,yFAHI;AAIjBC,IAAAA,IAAI,EAAE;AAJW;AADZ,CAnBE,EA2BVL,OA3BU,CA2BF;AACPQ,EAAAA,MAAM,EAAE;AACNN,IAAAA,KAAK,EAAE,GADD;AAENC,IAAAA,OAAO,EAAE,KAFH;AAGNC,IAAAA,WAAW,EAAE,4DAHP;AAINC,IAAAA,IAAI,EAAE;AAJA;AADD,CA3BE,EAmCVL,OAnCU,CAmCF;AACPS,EAAAA,MAAM,EAAE;AACNL,IAAAA,WAAW,EAAE,kDADP;AAENC,IAAAA,IAAI,EAAE;AAFA;AADD,CAnCE,EAyCVL,OAzCU,CAyCF;AACPU,EAAAA,UAAU,EAAE;AACVR,IAAAA,KAAK,EAAE,GADG;AAEVC,IAAAA,OAAO,EAAE,CAAC,IAAD,CAFC;AAGVC,IAAAA,WAAW,EAAE,2IAHH;AAIVC,IAAAA,IAAI,EAAE;AAJI;AADL,CAzCE,EAiDVM,OAjDU,CAkDT,oCAlDS,EAmDT,4GAnDS,EAqDVA,OArDU,CAsDT,qCAtDS,EAuDT,qHAvDS,EAyDVA,OAzDU,CA0DT,wCA1DS,EA2DT,0HA3DS,EA6DVf,IA7DH;;AA+DA,8BAAcA,IAAI,CAACgB,CAAnB,EAAsB;AACpBH,EAAAA,MAAM,EAAEb,IAAI,CAACa,MADO;AAEpBC,EAAAA,UAAU,EAAEd,IAAI,CAACc,UAFG;AAGpBH,EAAAA,iBAAiB,EAAEX,IAAI,CAACW,iBAHJ;AAIpBD,EAAAA,YAAY,EAAEV,IAAI,CAACU,YAJC;AAKpBL,EAAAA,SAAS,EAAEL,IAAI,CAACK,SALI;AAMpBY,EAAAA,WAAW,EAAEjB,IAAI,CAACY;AANE,CAAtB","sourcesContent":["#!/usr/bin/env node\n// eslint-disable filenames/match-regex\n\nimport yargs from 'yargs';\nimport {\n  writeIndexCli\n} from '../utilities';\n\nconst argv = yargs\n  .pkgConf('indexer')\n  .demand(1)\n  .options({\n    recursive: {\n      alias: 'r',\n      default: false,\n      description: 'Create/update index files recursively. Halts on any unsafe \"index.js\" files.',\n      type: 'boolean'\n    }\n  })\n  .options({\n    ignoreUnsafe: {\n      alias: 'i',\n      default: false,\n      description: 'Ignores unsafe \"index.js\" files instead of halting.',\n      type: 'boolean'\n    }\n  })\n  .options({\n    ignoreDirectories: {\n      alias: 'd',\n      default: false,\n      description: 'Ignores importing directories into the index file, even if they have a safe \"index.js\".',\n      type: 'boolean'\n    }\n  })\n  .options({\n    update: {\n      alias: 'u',\n      default: false,\n      description: 'Updates only previously created index files (recursively).',\n      type: 'boolean'\n    }\n  })\n  .options({\n    banner: {\n      description: 'Add a custom banner at the top of the index file',\n      type: 'string'\n    }\n  })\n  .options({\n    extensions: {\n      alias: 'x',\n      default: ['js'],\n      description: 'Allows some extensions to be parsed as valid source. First extension will always be preferred to homonyms with another allowed extension.',\n      type: 'array'\n    }\n  })\n  .example(\n    'create-index ./src ./src/utilities',\n    'Creates or updates an existing create-index index file in the target (./src, ./src/utilities) directories.'\n  )\n  .example(\n    'create-index --update ./src ./tests',\n    'Finds all create-index index files in the target directories and descending directories. Updates found index files.'\n  )\n  .example(\n    'create-index ./src --extensions js jsx',\n    'Creates or updates an existing create-index index file in the target (./src) directory for both .js and .jsx extensions.'\n  )\n  .argv;\n\nwriteIndexCli(argv._, {\n  banner: argv.banner,\n  extensions: argv.extensions,\n  ignoreDirectories: argv.ignoreDirectories,\n  ignoreUnsafe: argv.ignoreUnsafe,\n  recursive: argv.recursive,\n  updateIndex: argv.update\n});\n"],"file":"createIndex.js"}